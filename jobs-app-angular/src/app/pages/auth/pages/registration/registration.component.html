<div class="app-page">
    <div class="app-page__header">
        <h1>Registration</h1>
    </div>
    
    <form 
        [formGroup]="form" 
        (submit)="onSubmit()" 
        (keyup.enter)="onSubmit()" 
        novalidate 
        autocomplete="off"
    >
        <div class="app-page__content">
            <app-form-field
                label="Name"
                [required]="true"
                [control]="form.controls.name"
                [isInline]="false"
            >
                <app-input formControlName="name"></app-input>
            </app-form-field>
            <app-form-field
                label="Photo Url"
                [required]="true"
                [control]="form.controls.photoUrl"
                [isInline]="false"
            >
                <app-input formControlName="photoUrl"></app-input>
            </app-form-field>
            <app-form-field
                label="Country"
                [required]="true"
                [control]="form.controls.country"
                [isInline]="false"
            >
                <app-input formControlName="country"></app-input>
            </app-form-field>
            <input type="hidden" formControlName="role_id">
            <app-form-field
                label="Email"
                [required]="true"
                [control]="form.controls.email"
                [isInline]="false"
                [patternError]="regexErrors.email"
            >
                <app-input formControlName="email"></app-input>
            </app-form-field>
            <app-form-field
                label="Password"
                [required]="true"
                [control]="form.controls.password"
                [isInline]="false"
                [patternError]="regexErrors.password"
            >
                <app-password formControlName="password"></app-password>
            </app-form-field>
            <app-form-field
                label="Confirm Password"
                [required]="true"
                [control]="form.controls.password_confirm"
                [isInline]="false"
                [patternError]="regexErrors.password"
            >
                <app-password formControlName="password_confirm"></app-password>
            </app-form-field>

            <div class="error" [class.error_active]="form.hasError('confirm')">
                Entered passwords don't match
            </div>
        </div>
    
        <div class="app-page__footer">
            <app-button type="submit">Submit</app-button>
        </div>
    </form>

    <app-spinner *ngIf="loading$ | async"></app-spinner>
</div>
